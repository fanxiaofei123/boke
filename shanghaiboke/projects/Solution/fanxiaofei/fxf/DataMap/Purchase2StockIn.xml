<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Map Caption="采购单映射入库单" Key="Purchase2StockIn" SrcDataObjectKey="Purchase" TgtDataObjectKey="StockIn" AllowSurplus="true" MaxPushValue="PurchaseDetail.Amount*1.2" MapCondition="PurchaseHead.Status==2">
    <SourceTableCollection Height="270" Width="216" X="30" Y="30">
        <SourceTable IsPrimary="true" Key="PurchaseDetail" TargetTableKey="StockInDetail">
            <SourceField Definition="Province" TargetFieldKey="Province"/>
            <SourceField Definition="City" TargetFieldKey="City"/>
            <SourceField Definition="Material" TargetFieldKey="Material"/>
            <SourceField Definition="Amount" TargetFieldKey="Amount" EdgeType="Focus"/>
            <SourceField Definition="Unit" TargetFieldKey="Unit"/>
        </SourceTable>
    </SourceTableCollection>
    <TargetTableCollection Height="270" Width="205" X="294" Y="30">
        <TargetTable IsPrimary="true" Key="StockInDetail">
            <TargetField Definition="Province"/>
            <TargetField Definition="City"/>
            <TargetField Definition="Material"/>
            <TargetField Definition="Amount">
                <Feedback DataObjectKey="Purchase" FieldKey="StockInAmount" TableKey="PurchaseDetail" OpSign="AddDelta"/>
            </TargetField>
            <TargetField Definition="Unit"/>
        </TargetTable>
    </TargetTableCollection>
    <FeedbackCollection>
        <FeedbackObject Height="150" ObjectKey="Purchase" Width="216" X="550" Y="30">
            <FeedbackTable TableKey="PurchaseDetail">
                <FeedbackField FieldKey="StockInAmount"/>
            </FeedbackTable>
        </FeedbackObject>
    </FeedbackCollection>
</Map>
