<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Map Caption="采购单映射入库单" Key="Purchase2StockIn" SrcDataObjectKey="Purchase" TgtDataObjectKey="StockIn" MapCondition="PurchaseHead.Status==2">
    <SourceTableCollection Height="240" Width="216" X="30" Y="30">
        <SourceTable IsPrimary="true" Key="PurchaseDetail" TargetTableKey="StockInDetail">
            <SourceField Definition="Warehouse" TargetFieldKey="Warehouse"/>
            <SourceField Definition="Materiel" TargetFieldKey="Materiel"/>
            <SourceField Definition="Amount" EdgeType="Focus" TargetFieldKey="Amount" RefFieldKey="Amount"/>
            <SourceField Definition="Unit" TargetFieldKey="Unit"/>
        </SourceTable>
    </SourceTableCollection>
    <TargetTableCollection Height="240" Width="205" X="294" Y="30">
        <TargetTable IsPrimary="true" Key="StockInDetail">
            <TargetField Definition="Warehouse"/>
            <TargetField Definition="Materiel"/>
            <TargetField Definition="Amount">
                <Feedback Condition="StockInHead.Status==2" DataObjectKey="Purchase" FieldKey="InAmount" OpSign="AddDelta" TableKey="PurchaseDetail"/>
            </TargetField>
            <TargetField Definition="Unit"/>
        </TargetTable>
    </TargetTableCollection>
    <FeedbackCollection>
        <FeedbackObject Height="150" ObjectKey="Purchase" Width="216" X="550" Y="30">
            <FeedbackTable TableKey="PurchaseDetail">
                <FeedbackField FieldKey="InAmount"/>
            </FeedbackTable>
        </FeedbackObject>
    </FeedbackCollection>
</Map>
