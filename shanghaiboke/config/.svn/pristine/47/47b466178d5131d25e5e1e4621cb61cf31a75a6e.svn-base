<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Form Key="PutawayByStockHistoryDetail" Authenticate="false">
    <DataSource>
        <DataObject Key="LRP_PutawayByStockHistoryDetail" Caption="上架历史明细" PrimaryTableKey="LRP_WMTx_L">
            <TableCollection>
                <Table Key="LRP_WMTx_L" Caption="上架历史明细" TableMode="Detail" SourceType="Query">
                    <Column Caption="对象标识" DataType="Long" Key="OID"/>
                    <Column Caption="物料ID" DataType="Long" Key="MaterialId"/>
                    <Column Key="MaterialCode" Caption="物料代码" DataType="Varchar" Length="100"/>
                    <Column Key="MaterialName" Caption="物料名称" DataType="Varchar" Length="200"/>
                    <Column Caption="单位" DataType="Varchar" Key="MaterialUnit" Length="10"/>
                    <Column Caption="批号" DataType="Varchar" Key="DestBatchNo" Length="100"/>
                    <Column Caption="数量" DataType="Numeric" Key="Qty" Precision="18" Scale="6"/>
                    <Column Caption="收货区" DataType="Long" Key="DestStoreareaId"/>
                    <Column Caption="收货区名称" Key="DestStoreareaName" DataType="Varchar" Length="200"/>
                    <ParameterCollection>
                        <Parameter DataType="Long" Formula="GetPara('OID')"/>
                    </ParameterCollection>
                    <Statement>
                        <![CDATA[  select
   l.OID,
   l.SOID,
   m.Code as MaterialCode,
   m.Name as MaterialName, 
   s.Name as DestStoreareaName,
   l.MaterialUnit,  
   l.DestBatchNo, 
   l.Qty, 
  l.DestStoreareaId   
from LRP_WMTx_H h left join LRP_WMTx_L l on h.oid=l.soid left join LRP_Material m on m.oid = l.MaterialId left join lrp_Storearea s on s.oid = l.DestStoreareaId 
    where
    h.TxTypeCode ='113' and h.oid = ?
    ]]>
                    </Statement>
                </Table>
            </TableCollection>
        </DataObject>
    </DataSource>
    <QueryCollection>
        <Query Key="SelectStorearea" Description="查找库区名称">
            <Statement>
                <![CDATA[select code as c,name as n from lrp_Storearea where oid = ?]]>
            </Statement>
            <ParameterCollection>
                <Parameter DataType="Long"/>
            </ParameterCollection>
        </Query>
    </QueryCollection>
    <Body>
        <Block>
            <GridLayoutPanel Key="root">
                <Format BackColor="#e6e6e6"/>
                <TableView Key="RouteName_table" X="0" Y="0">
                    <Format BackColor="#f1f3f8"/>
                    <TableRowCollection>
                        <TableRow Key="list" SeparatorStyle="solid none solid none" RowType="Detail" SeparatorColor="#dde0e7" TableKey="LRP_WMTx_L">
                            <GridLayoutPanel Key="GridLayoutPanel3" Caption="GridLayoutPanel3">
                                <Label Key="Materialcode" LeftPadding="5px" X="0" Y="0" XSpan="2">
                                    <DataBinding ColumnKey="MaterialCode"/>
                                    <Format>
                                        <Font Size="13"/>
                                    </Format>
                                </Label>
                                <Label Key="MaterialName" LeftPadding="5px" X="2" Y="0" XSpan="3">
                                    <DataBinding ColumnKey="MaterialName"/>
                                    <Format>
                                        <Font Size="13"/>
                                    </Format>
                                </Label>
                                <Label Key="MaterialUnit" LeftPadding="5px" X="6" Y="0" XSpan="2">
                                    <DataBinding ColumnKey="MaterialUnit"/>
                                    <Format>
                                        <Font Size="13"/>
                                    </Format>
                                </Label>
                                <Label Key="BatchNo" LeftPadding="5px" X="0" Y="1" XSpan="6">
                                    <DataBinding ColumnKey="DestBatchNo"/>
                                    <Format>
                                        <Font Size="13"/>
                                    </Format>
                                </Label>
                                <Label Key="CheckQty_lbl" Caption="数量" LeftPadding="5px" X="6" Y="1" XSpan="2">
                                    <Format>
                                        <Font Size="13"/>
                                    </Format>
                                </Label>
                                <NumberEditor Key="CheckQty" Caption="数量" Precision="18" Enable="false" Scale="0" X="8" Y="1" XSpan="2">
                                    <DataBinding ColumnKey="Qty" VAlign="Bottom"/>
                                    <Format>
                                        <Font Size="13"/>
                                    </Format>
                                </NumberEditor>
                                <Label Key="DestLocationName" LeftPadding="5px" X="10" Y="1" XSpan="2">
                                    <DataBinding ColumnKey="DestStoreareaName"/>
                                    <Format>
                                        <Font Size="13"/>
                                    </Format>
                                </Label>
                                <RowDefCollection RowGap="1">
                                    <RowDef Height="30px"/>
                                    <RowDef Height="40px"/>
                                </RowDefCollection>
                                <ColumnDefCollection ColumnGap="1">
                                    <ColumnDef Width="50px"/>
                                    <ColumnDef Width="18%"/>
                                    <ColumnDef Width="50px"/>
                                    <ColumnDef Width="18%"/>
                                    <ColumnDef Width="20px"/>
                                    <ColumnDef Width="16%"/>
                                    <ColumnDef Width="50px"/>
                                    <ColumnDef Width="16%"/>
                                    <ColumnDef Width="50px"/>
                                    <ColumnDef Width="16%"/>
                                    <ColumnDef Width="80px"/>
                                    <ColumnDef Width="16%"/>
                                </ColumnDefCollection>
                            </GridLayoutPanel>
                        </TableRow>
                    </TableRowCollection>
                </TableView>
                <RowDefCollection>
                    <RowDef Height="100%"/>
                </RowDefCollection>
                <ColumnDefCollection>
                    <ColumnDef Width="100%"/>
                </ColumnDefCollection>
            </GridLayoutPanel>
        </Block>
    </Body>
    <OnLoad>
        <![CDATA[		    
			LoadData();					
        ]]>
    </OnLoad>
    <FormParaCollection>
        <FormPara Formula="Para('OID')" Key="OID" Type="Formula"/>
    </FormParaCollection>
    <NavigationBar BackColor="#f14c52" Style="Custom">
        <BarItem Key="TitleCenter_bar" Caption="上架历史明细" Location="Center">
            <Label Key="TitleCenter" Caption="上架历史明细" Width="120px">
                <Format ForeColor="#ffffff" HAlign="Center">
                    <Font Size="20"/>
                </Format>
            </Label>
        </BarItem>
    </NavigationBar>
</Form>
