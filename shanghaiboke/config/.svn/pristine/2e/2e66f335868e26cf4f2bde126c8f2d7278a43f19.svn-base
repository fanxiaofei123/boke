<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Form Caption="货主" FormType="Dict" Key="V_Owner_LRP">
    <DataSource RefObjectKey="LRP_Owner"/>
    <UICheckRuleCollection>
        <UICheckRule ErrorInfo="收发货方名称不能重复"><![CDATA[
					
							!CheckDuplicate("D_Name"); 
						
				]]></UICheckRule>
    </UICheckRuleCollection>
    <Body>
        <Block>
            <FlexFlowLayoutPanel Key="main">
                <SplitPanel Height="100%" Key="main_split" Orientation="Vertical">
                    <TabPanel Caption="TabPanel0" Key="TabPanel0">
                        <GridLayoutPanel Caption="基本信息" Key="BasicTab" Padding="10px">
                            <TextEditor Caption="代码" Enable="!ReadOnly()" Key="Code" Tip="「代码」不可为空" X="1" XSpan="3" Y="0">
                                <DataBinding ColumnKey="Code" Required="true" TableKey="LRP_Owner"/>
                            </TextEditor>
                            <TextEditor Caption="名称" Enable="!ReadOnly()" Key="Name" Tip="「名称」不可为空" X="6" XSpan="3" Y="0">
                                <DataBinding ColumnKey="Name" Required="true" TableKey="LRP_Owner"/>
                            </TextEditor>
                            <Dict Caption="客户" Enable="!ReadOnly()" ItemKey="Customer" Key="CustomerId" Tip="「客户」不可为空" X="1" XSpan="3" Y="1">
                                <DataBinding ColumnKey="CustomerId" Required="true" TableKey="LRP_Owner"/>
                            </Dict>
                            <CheckBox Caption="ERP集成货主" Key="ERPIntegrated" X="5" XSpan="4" Y="1">
                                <DataBinding ColumnKey="ERPIntegrated" TableKey="LRP_Owner"/>
                            </CheckBox>
                            <GridLayoutPanel Caption="联系" Key="TabSelect" X="0" XSpan="4" Y="2">
                                <TextEditor Caption="联系人" Enable="!ReadOnly()" Key="Contacts" X="1" Y="0">
                                    <DataBinding ColumnKey="Contacts" TableKey="LRP_Owner"/>
                                </TextEditor>
                                <TextEditor Caption="联系电话" Enable="!ReadOnly()" Key="Tel" X="3" Y="0">
                                    <DataBinding ColumnKey="Tel" TableKey="LRP_Owner"/>
                                </TextEditor>
                                <Label Caption="联系人" Key="L_Contacts" X="0" Y="0"/>
                                <Label Caption="联系电话" Key="L_Tel" X="2" Y="0"/>
                                <RowDefCollection>
                                    <RowDef Height="30px"/>
                                </RowDefCollection>
                                <ColumnDefCollection>
                                    <ColumnDef Width="85px"/>
                                    <ColumnDef MinWidth="55px" Width="50%"/>
                                    <ColumnDef Width="55px"/>
                                    <ColumnDef MinWidth="55px" Width="50%"/>
                                </ColumnDefCollection>
                            </GridLayoutPanel>                            
                            <Label Caption="代码" Key="L_Code" X="0" Y="0"/>
                            <Label Caption="名称" Key="L_Name" X="5" Y="0"/>
                            <Label Caption="客户" Key="L_CustomerId" X="0" Y="1"/>
                            <CheckBox Caption="分配库存允许缺货" Key="PickAllowLack" X="5" XSpan="2" Y="2">
                                <DataBinding ColumnKey="PickAllowLack" TableKey="LRP_Owner"/>
                            </CheckBox>
                            <RowDefCollection RowGap="8">
                                <RowDef Height="30px"/>
                                <RowDef Height="30px"/>
                                <RowDef Height="30px"/>
                                <RowDef Height="30px"/>
                                <RowDef Height="30px"/>
                                <RowDef Height="30px"/>
                            </RowDefCollection>
                            <ColumnDefCollection ColumnGap="8">
                                <ColumnDef Width="75px"/>
                                <ColumnDef Width="25%"/>
                                <ColumnDef Width="55px"/>
                                <ColumnDef Width="25%"/>
                                <ColumnDef Width="55px"/>
                                <ColumnDef Width="75px"/>
                                <ColumnDef Width="25%"/>
                                <ColumnDef Width="55px"/>
                                <ColumnDef Width="25%"/>
                                <ColumnDef Width="55px"/>
                            </ColumnDefCollection>
                        </GridLayoutPanel>
                        <GridLayoutPanel Caption="系统信息" Key="SystemTab" Padding="10px">
                            <Dict Caption="创建人" ItemKey="Operator" Key="CREATOR" X="1" Y="0">
                                <DataBinding ColumnKey="CREATOR" DefaultFormulaValue="GetOperator()" TableKey="LRP_Owner"/>
                            </Dict>
                            <DatePicker Caption="创建时间" Key="CREATETIME" OnlyDate="false" X="1" Y="1">
                                <DataBinding ColumnKey="CREATETIME" DefaultFormulaValue="ServerDate()" TableKey="LRP_Owner"/>
                            </DatePicker>
                            <Dict Caption="修改人" ItemKey="Operator" Key="MODIFIER" X="1" Y="2">
                                <DataBinding ColumnKey="MODIFIER" DefaultFormulaValue="GetOperator()" TableKey="LRP_Owner"/>
                            </Dict>
                            <DatePicker Caption="修改时间" Key="MODIFYTIME" OnlyDate="false" X="1" Y="3">
                                <DataBinding ColumnKey="MODIFYTIME" DefaultFormulaValue="ServerDate()" TableKey="LRP_Owner"/>
                            </DatePicker>
                            <Label Caption="创建人" Key="L_CREATOR" X="0" Y="0"/>
                            <Label Caption="创建时间" Key="L_CREATETIME" X="0" Y="1"/>
                            <Label Caption="修改人" Key="L_MODIFIER" X="0" Y="2"/>
                            <Label Caption="修改时间" Key="L_MODIFYTIME" X="0" Y="3"/>
                            <RowDefCollection RowGap="8">
                                <RowDef Height="30px"/>
                                <RowDef Height="30px"/>
                                <RowDef Height="30px"/>
                                <RowDef Height="30px"/>
                                <RowDef Height="30px"/>
                            </RowDefCollection>
                            <ColumnDefCollection ColumnGap="8">
                                <ColumnDef Width="55px"/>
                                <ColumnDef Width="100%"/>
                            </ColumnDefCollection>
                        </GridLayoutPanel>
                    </TabPanel>
                    <TabPanel Caption="收发货方明细" Key="TabPanel1">
                        <Grid Caption="收发货方明细" Key="Grid0">
                            <GridColumnCollection>
                                <GridColumn Caption="代码" Key="column-0" Width="80px" Sortable="true"/>
                                <GridColumn Caption="名称" Key="column-1" Width="80px" Sortable="true"/>
                                <GridColumn Caption="国家" Key="column-2" Width="80px" Sortable="true"/>
                                <GridColumn Caption="省" Key="column-3" Width="80px" Sortable="true"/>
                                <GridColumn Caption="市" Key="column-4" Width="80px" Sortable="true"/>
                                <GridColumn Caption="区县" Key="column-5" Width="80px" Sortable="true"/>
                                <GridColumn Caption="地址" Key="column-6" Width="80px" Sortable="true"/>
                                <GridColumn Caption="联系人" Key="column-7" Width="80px" Sortable="true"/>
                                <GridColumn Caption="联系电话" Key="column-8" Width="80px" Sortable="true"/>
                                <GridColumn Caption="ERP客户" Key="column-9" Width="80px" Sortable="true"/>
                            </GridColumnCollection>
                            <GridRowCollection>
                                <GridRow Key="row1" TableKey="LRP_RecvSendParty">
                                    <GridCell Caption="代码" CellType="TextEditor" Key="D_Code" PromptText="「代码」不能为空">
                                        <DataBinding ColumnKey="Code" Required="true" TableKey="LRP_RecvSendParty"/>
                                    </GridCell>
                                    <GridCell Caption="名称" CellType="TextEditor" Key="D_Name" PromptText="「名称」不能为空">
                                        <DataBinding ColumnKey="Name" Required="true" TableKey="LRP_RecvSendParty"/>
                                    </GridCell>
                                    <GridCell Caption="国家" CellType="Dict" ItemKey="Country" Key="CountryId" ValueChanged="SetValue('ProvinceId',-1);SetValue('CityId',-1);SetValue('DistrictId',-1);">
                                        <DataBinding ColumnKey="CountryId" Required="true" TableKey="LRP_RecvSendParty"/>
                                    </GridCell>
                                    <GridCell Caption="省/直辖市" CellType="Dict" ItemKey="LRP_Province" Key="ProvinceId" ValueChanged="SetValue('CityId',-1);SetValue('DistrictId',-1);">
                                        <DataBinding ColumnKey="ProvinceId" Required="true" TableKey="LRP_RecvSendParty"/>
                                        <ItemFilter ItemKey="LRP_Province">
                                            <Filter Type="FieldValue">
                                                <FilterValue FieldKey="CountryId" RefValue="CountryId" Type="Field"/>
                                            </Filter>
                                        </ItemFilter>
                                    </GridCell>
                                    <GridCell Caption="城市" CellType="Dict" ItemKey="LRP_City" Key="CityId" ValueChanged="SetValue('DistrictId',-1);">
                                        <DataBinding ColumnKey="CityId" Required="true" TableKey="LRP_RecvSendParty"/>
                                        <ItemFilter ItemKey="LRP_City">
                                            <Filter Type="FieldValue">
                                                <FilterValue FieldKey="ProvinceId" RefValue="ProvinceId" Type="Field"/>
                                            </Filter>
                                        </ItemFilter>
                                    </GridCell>
                                    <GridCell Caption="区县" CellType="Dict" ItemKey="LRP_District" Key="DistrictId">
                                        <DataBinding ColumnKey="DistrictId" Required="true" TableKey="LRP_RecvSendParty"/>
                                        <ItemFilter ItemKey="LRP_District">
                                            <Filter Type="FieldValue">
                                                <FilterValue FieldKey="SOID" RefValue="CityId" Type="Field"/>
                                            </Filter>
                                        </ItemFilter>
                                    </GridCell>
                                    <GridCell Caption="地址" CellType="TextEditor" Key="Address" PromptText="「地址」不能为空">
                                        <DataBinding ColumnKey="Address" Required="true" TableKey="LRP_RecvSendParty"/>
                                    </GridCell>
                                    <GridCell Caption="联系人" CellType="TextEditor" Key="D_Contacts">
                                        <DataBinding ColumnKey="Contacts" TableKey="LRP_RecvSendParty"/>
                                    </GridCell>
                                    <GridCell Caption="联系电话" CellType="TextEditor" Key="D_Tel">
                                        <DataBinding ColumnKey="Tel" TableKey="LRP_RecvSendParty"/>
                                    </GridCell>
                                    <GridCell Caption="ERP客户" CellType="Dict" ItemKey="Customer" Key="D_CustomerId">
                                        <DataBinding ColumnKey="CustomerId" TableKey="LRP_RecvSendParty"/>
                                    </GridCell>
                                </GridRow>
                            </GridRowCollection>
                        </Grid>
                    </TabPanel>
                    <SplitSize Size="50%"/>
                    <SplitSize Size="50%"/>
                </SplitPanel>
            </FlexFlowLayoutPanel>
        </Block>
    </Body>
</Form>
