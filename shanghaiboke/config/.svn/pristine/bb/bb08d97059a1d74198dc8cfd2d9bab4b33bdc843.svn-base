<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<DataObject Caption="盘点单" Key="LRP_TakeStock" NoPrefix="ST" PrimaryTableKey="LRP_TakeStock_H" PrimaryType="Entity">
    <TableCollection>
        <Table Caption="盘点单单头" Key="LRP_TakeStock_H" SourceType="DataObject">
            <Column Caption="对象标识" DataType="Long" Key="OID"/>
            <Column Caption="主对象标识" DataType="Long" Key="SOID"/>
            <Column Caption="父对象标识" DataType="Long" Key="POID"/>
            <Column Caption="对象版本" DataType="Integer" Key="VERID"/>
            <Column Caption="对象明细版本" DataType="Integer" Key="DVERID"/>
            <Column Caption="状态" DataType="Integer" Key="Status"/>
            <Column Caption="创建用户ID" DataType="Long" Key="CREATOR"/>
            <Column Caption="创建时间" DataType="DateTime" Key="CREATETIME"/>
            <Column Caption="修改用户ID" DataType="Long" Key="MODIFIER"/>
            <Column Caption="修改时间" DataType="DateTime" Key="MODIFYTIME"/>
            <Column Caption="盘点单号" DataType="Varchar" Key="No" Length="100" SortType="Desc"/>
            <Column Caption="仓储中心ID" DataType="Long" Key="WarehouseCenterId"/>
            <Column Caption="货主ID" DataType="Long" Key="OwnerId"/>
            <Column Caption="仓间ID" Key="StoreroomId" DataType="Long"/>
            <Column Caption="库区ID" Key="StoreareaId" DataType="Long"/>
            <Column Caption="储位ID" Key="LocationId" DataType="Long"/>
            <Column Caption="物料ID" DataType="Long" Key="MaterialId"/>
            <Column Key="StartDate" Caption="异动开始日期" DataType="Date"/>
            <Column Key="EndDate" Caption="异动结束日期" DataType="Date"/>
            <Column Key="CheckPerson" Caption="盘点员" DataType="Varchar" Length="80"/>
            <Column Key="CheckDatetime" Caption="盘点日期时间" DataType="DateTime"/>
            <Column Key="Remark" Caption="备注" DataType="Varchar" Length="1000"/>
        </Table>
        <Table Caption="盘点单明细" Key="LRP_TakeStock_L" TableMode="Detail" SourceType="DataObject">
            <Column Caption="对象标识" DataType="Long" Key="OID"/>
            <Column Caption="主对象标识" DataType="Long" Key="SOID"/>
            <Column Caption="父对象标识" DataType="Long" Key="POID"/>
            <Column Caption="对象版本" DataType="Integer" Key="VERID"/>
            <Column Caption="对象明细版本" DataType="Integer" Key="DVERID"/>
            <Column Caption="序号" DataType="Integer" Key="SEQUENCE"/>
            <Column Caption="创建用户ID" DataType="Long" Key="CREATOR"/>
            <Column Caption="创建时间" DataType="DateTime" Key="CREATETIME"/>
            <Column Caption="修改用户ID" DataType="Long" Key="MODIFIER"/>
            <Column Caption="修改时间" DataType="DateTime" Key="MODIFYTIME"/>
            <Column Caption="数据映射key" DataType="Varchar" Key="MapKey" Length="100"/>
            <Column Caption="来源单据明细ID" DataType="Long" Key="SrcOID"/>
            <Column Caption="来源单据头id" DataType="Long" Key="SrcSOID"/>
            <Column Caption="物料" DataType="Long" Key="MaterialId"/>
            <Column Caption="账面量" DataType="Numeric" Key="Qty" Precision="18" Scale="6" DefaultValue="0"/>
            <Column Caption="盘点量" Key="CheckQty" DataType="Numeric" Precision="18" Scale="6" DefaultValue="0"/>
            <Column Caption="批号" Key="BatchNo" DataType="Varchar" Length="100" DefaultValue="*"/>
            <Column Caption="生产日期" Key="ManufDate" DataType="Date"/>
            <Column Caption="失效日期" Key="ExpireDate" DataType="Date"/>
            <Column Caption="项目" Key="ProjectId" DataType="Long"/>
            <Column Caption="入库日期" Key="RecvDate" DataType="Date"/>
            <Column Caption="字符型1" Key="StrUserDef1" DataType="Varchar" Length="100" DefaultValue="*"/>
            <Column Caption="字符型2" Key="StrUserDef2" DataType="Varchar" Length="100" DefaultValue="*"/>
            <Column Caption="字符型3" Key="StrUserDef3" DataType="Varchar" Length="100" DefaultValue="*"/>
            <Column Caption="字符型4" DataType="Varchar" DefaultValue="*" Key="StrUserDef4" Length="100"/>
            <Column Caption="字符型5" DataType="Varchar" DefaultValue="*" Key="StrUserDef5" Length="100"/>
            <Column Caption="字典型1" DataType="Long" Key="DictUserDef1"/>
            <Column Caption="字典型2" DataType="Long" Key="DictUserDef2"/>
            <Column Caption="字典型3" DataType="Long" Key="DictUserDef3"/>
            <Column Caption="字典型4" DataType="Long" Key="DictUserDef4"/>
            <Column Caption="字典型5" DataType="Long" Key="DictUserDef5"/>
            <Column Caption="日期型1" DataType="Date" Key="DateUserDef1"/>
            <Column Caption="日期型2" DataType="Date" Key="DateUserDef2"/>
            <Column Caption="数值型1" DataType="Numeric" DefaultValue="0" Key="NumUserDef1" Precision="18" Scale="6"/>
            <Column Caption="数值型2" DataType="Numeric" DefaultValue="0" Key="NumUserDef2" Precision="18" Scale="6"/>
            <Column Caption="数值型3" DataType="Numeric" DefaultValue="0" Key="NumUserDef3" Precision="18" Scale="6"/>
            <Column Caption="仓间" Key="StoreroomId" DataType="Long"/>
            <Column Caption="库区" Key="StoreareaId" DataType="Long"/>
            <Column Caption="储位" Key="LocationId" DataType="Long"/>
            <Column Caption="物料状态" Key="MaterialStatusId" DataType="Long"/>
            <Column Caption="生成方式" Key="GenMethod" DataType="Integer"/>
        </Table>
        <Table Caption="盘点差异明细" Key="LRP_TakeStock_L2" TableMode="Detail" SourceType="Query" Persist="false">
            <Column Caption="对象标识" DataType="Long" Key="OID"/>
            <Column Caption="主对象标识" DataType="Long" Key="SOID"/>
            <Column Caption="父对象标识" DataType="Long" Key="POID"/>
            <Column Caption="对象版本" DataType="Integer" Key="VERID"/>
            <Column Caption="对象明细版本" DataType="Integer" Key="DVERID"/>
            <Column Caption="序号" DataType="Integer" Key="SEQUENCE"/>
            <Column Caption="创建用户ID" DataType="Long" Key="CREATOR"/>
            <Column Caption="创建时间" DataType="DateTime" Key="CREATETIME"/>
            <Column Caption="修改用户ID" DataType="Long" Key="MODIFIER"/>
            <Column Caption="修改时间" DataType="DateTime" Key="MODIFYTIME"/>
            <Column Caption="物料" DataType="Long" Key="MaterialId"/>
            <Column Caption="账面量" DataType="Numeric" Key="Qty" Precision="18" Scale="6" DefaultValue="0"/>
            <Column Caption="盘点量" Key="CheckQty" DataType="Numeric" Precision="18" Scale="6" DefaultValue="0"/>
            <Column Caption="批号" Key="BatchNo" DataType="Varchar" Length="100" DefaultValue="*"/>
            <Column Caption="生产日期" Key="ManufDate" DataType="Date"/>
            <Column Caption="失效日期" Key="ExpireDate" DataType="Date"/>
            <Column Caption="项目" Key="ProjectId" DataType="Long"/>
            <Column Caption="入库日期" Key="RecvDate" DataType="Date"/>
            <Column Caption="字符型1" Key="StrUserDef1" DataType="Varchar" Length="100" DefaultValue="*"/>
            <Column Caption="字符型2" Key="StrUserDef2" DataType="Varchar" Length="100" DefaultValue="*"/>
            <Column Caption="字符型3" Key="StrUserDef3" DataType="Varchar" Length="100" DefaultValue="*"/>
            <Column Caption="字符型4" DataType="Varchar" DefaultValue="*" Key="StrUserDef4" Length="100"/>
            <Column Caption="字符型5" DataType="Varchar" DefaultValue="*" Key="StrUserDef5" Length="100"/>
            <Column Caption="字典型1" DataType="Long" Key="DictUserDef1"/>
            <Column Caption="字典型2" DataType="Long" Key="DictUserDef2"/>
            <Column Caption="字典型3" DataType="Long" Key="DictUserDef3"/>
            <Column Caption="字典型4" DataType="Long" Key="DictUserDef4"/>
            <Column Caption="字典型5" DataType="Long" Key="DictUserDef5"/>
            <Column Caption="日期型1" DataType="Date" Key="DateUserDef1"/>
            <Column Caption="日期型2" DataType="Date" Key="DateUserDef2"/>
            <Column Caption="数值型1" DataType="Numeric" DefaultValue="0" Key="NumUserDef1" Precision="18" Scale="6"/>
            <Column Caption="数值型2" DataType="Numeric" DefaultValue="0" Key="NumUserDef2" Precision="18" Scale="6"/>
            <Column Caption="数值型3" DataType="Numeric" DefaultValue="0" Key="NumUserDef3" Precision="18" Scale="6"/>
            <Column Caption="仓间" Key="StoreroomId" DataType="Long"/>
            <Column Caption="库区" Key="StoreareaId" DataType="Long"/>
            <Column Caption="储位" Key="LocationId" DataType="Long"/>
            <Column Caption="物料状态" Key="MaterialStatusId" DataType="Long"/>
            <Column Caption="生成方式" Key="GenMethod" DataType="Integer"/>
            <ParameterCollection>
                <Parameter DataType="Long" Description="单据oid" Formula="GetPara({S_OID})"/>
            </ParameterCollection>
            <Statement>
                <![CDATA[select l.* from LRP_TakeStock_L l join LRP_TakeStock_H h on l.soid=h.oid where l.Qty<>l.CheckQty and h.oid=?]]>
            </Statement>
        </Table>
    </TableCollection>
</DataObject>
