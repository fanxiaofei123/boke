<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Form Key="V_City_Route" Caption="运输路线" FormType="Dict">
    <DataSource RefObjectKey="LRP_Route"/>
    <UICheckRuleCollection>
        <UICheckRule ErrorInfo="节点类型 + 运输节点 + 配送/提货 不能重复。">
            <![CDATA[
                                   !CheckDuplicate("NodeType","NodeId","PickOrSend");						
				]]>
        </UICheckRule>
    </UICheckRuleCollection>
    <Body>
        <Block>
            <SplitPanel Height="100%" Key="main_split" Orientation="Vertical">
                <TabPanel Caption="TabPanel0" Key="TabPanel0">
                    <GridLayoutPanel Caption="基本信息" Key="BasicTab" Padding="10px">
                        <TextEditor Caption="代码" Enable="!ReadOnly()" Key="Code" Tip="「代码」不可为空" X="1" XSpan="3" Y="0">
                            <DataBinding ColumnKey="Code" TableKey="LRP_Route" Required="true"/>
                        </TextEditor>
                        <TextEditor Caption="名称" Enable="!ReadOnly()" Key="Name" Tip="「名称」不可为空" X="6" XSpan="3" Y="0">
                            <DataBinding ColumnKey="Name" TableKey="LRP_Route" Required="true"/>
                        </TextEditor>
                        <Label Caption="代码" Key="L_Code" X="0" Y="0"/>
                        <Label Caption="名称" Key="L_Name" X="5" Y="0"/>
                        <TextEditor Caption="备注" Key="Remarks" X="1" XSpan="8" Y="1">
                            <DataBinding ColumnKey="Remarks" TableKey="LRP_Route"/>
                        </TextEditor>
                        <Label Caption="备注" Key="L_Remarks" X="0" Y="1"/>
                        <RowDefCollection RowGap="8">
                            <RowDef Height="30px"/>
                            <RowDef Height="30px"/>
                        </RowDefCollection>
                        <ColumnDefCollection ColumnGap="8">
                            <ColumnDef Width="75px"/>
                            <ColumnDef Width="25%"/>
                            <ColumnDef Width="55px"/>
                            <ColumnDef Width="25%"/>
                            <ColumnDef Width="55px"/>
                            <ColumnDef Width="75px"/>
                            <ColumnDef Width="25%"/>
                            <ColumnDef Width="55px"/>
                            <ColumnDef Width="25%"/>
                            <ColumnDef Width="55px"/>
                        </ColumnDefCollection>
                    </GridLayoutPanel>
                    <GridLayoutPanel Caption="系统信息" Key="SystemTab" Padding="10px">
                        <Dict Caption="创建人" ItemKey="Operator" Key="CREATOR" X="1" Y="0">
                            <DataBinding ColumnKey="CREATOR" DefaultFormulaValue="GetOperator()" TableKey="LRP_Route"/>
                        </Dict>
                        <DatePicker Caption="创建时间" Key="CREATETIME" OnlyDate="false" X="1" Y="1">
                            <DataBinding ColumnKey="CREATETIME" DefaultFormulaValue="ServerDate()" TableKey="LRP_Route"/>
                        </DatePicker>
                        <Dict Caption="修改人" ItemKey="Operator" Key="MODIFIER" X="1" Y="2">
                            <DataBinding ColumnKey="MODIFIER" DefaultFormulaValue="GetOperator()" TableKey="LRP_Route"/>
                        </Dict>
                        <DatePicker Caption="修改时间" Key="MODIFYTIME" OnlyDate="false" X="1" Y="3">
                            <DataBinding ColumnKey="MODIFYTIME" DefaultFormulaValue="ServerDate()" TableKey="LRP_Route"/>
                        </DatePicker>
                        <Label Caption="创建人" Key="L_CREATOR" X="0" Y="0"/>
                        <Label Caption="创建时间" Key="L_CREATETIME" X="0" Y="1"/>
                        <Label Caption="修改人" Key="L_MODIFIER" X="0" Y="2"/>
                        <Label Caption="修改时间" Key="L_MODIFYTIME" X="0" Y="3"/>
                        <RowDefCollection RowGap="8">
                            <RowDef Height="30px"/>
                            <RowDef Height="30px"/>
                            <RowDef Height="30px"/>
                            <RowDef Height="30px"/>
                            <RowDef Height="30px"/>
                        </RowDefCollection>
                        <ColumnDefCollection ColumnGap="8">
                            <ColumnDef Width="55px"/>
                            <ColumnDef Width="100%"/>
                        </ColumnDefCollection>
                    </GridLayoutPanel>
                </TabPanel>
                <TabPanel Caption="途径明细" Key="TabPanel1">
                    <Grid Caption="途径明细" Key="Grid0">
                        <GridColumnCollection>
                            <GridColumn Key="NodeType" Caption="节点类型" Width="80px"/>
                            <GridColumn Key="NodeId" Caption="运输节点" Width="80px"/>
                            <GridColumn Key="PickOrSend" Caption="配送/提货" Width="80px"/>
                        </GridColumnCollection>
                        <GridRowCollection>
                            <GridRow Key="row1" TableKey="LRP_Route_L">
                                <GridCell Key="NodeType" Caption="节点类型" CellType="ComboBox">
                                    <DataBinding ColumnKey="NodeType" Required="true" DefaultValue="LRP_WarehouseCenter"/>
                                    <Item Caption="仓储中心" Key="1" Value="LRP_WarehouseCenter"/>
                                    <Item Caption="市区" Key="2" Value="LRP_City"/>
                                    <Item Caption="区域" Key="3" Value="Region"/>
                                </GridCell>
                                <GridCell Key="NodeId" Caption="运输节点" CellType="DynamicDict" RefKey="NodeType" IsDynamic="true">
                                    <DataBinding ColumnKey="NodeId" Required="true"/>
                                </GridCell>
                                <GridCell Key="PickOrSend" Caption="配送/提货" CellType="ComboBox">
                                    <DataBinding ColumnKey="PickOrSend" Required="true" DefaultValue="2"/>
                                    <Item Caption="提货点" Key="1" Value="1"/>
                                    <Item Caption="配送点" Key="2" Value="2"/>
                                </GridCell>
                            </GridRow>
                        </GridRowCollection>
                    </Grid>
                </TabPanel>
                <SplitSize Size="50%"/>
                <SplitSize Size="50%"/>
            </SplitPanel>
        </Block>
    </Body>
</Form>
