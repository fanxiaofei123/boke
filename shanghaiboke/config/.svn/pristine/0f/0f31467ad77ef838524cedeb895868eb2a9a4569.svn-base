<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Form Key="V_DailyQuant_LRP" Caption="日结" FormType="Entity">
    <DataSource>
        <DataObject Key="V_DailyQuant_LRP" Caption="日结" PrimaryTableKey="V_DailyQuant_LRP_H" PrimaryType="Entity">
            <TableCollection>
                <Table Key="V_DailyQuant_LRP_H" Caption="头表1">
                    <Column Key="OID" Caption="对象标识" DataType="Long"/>
                    <Column Key="SOID" Caption="主对象标识" DataType="Long"/>
                    <Column Key="POID" Caption="父对象标识" DataType="Long"/>
                    <Column Key="VERID" Caption="对象版本" DataType="Integer"/>
                    <Column Key="DVERID" Caption="对象明细版本" DataType="Integer"/>
                    <Column Key="NO" Caption="单据编号" DataType="Varchar"/>
                    <Column Key="Status" Caption="单据状态" DataType="Integer"/>
                    <Column Key="BillDate" Caption="单据日期" DataType="DateTime"/>
                    <Column Key="Creator" Caption="制单人" DataType="Long" Description="保存人员" ItemKey="Operator"/>
                    <Column Key="CreateTime" Caption="制单日期" DataType="DateTime"/>
                    <Column Key="Modifier" Caption="修改人" DataType="Long"/>
                    <Column Key="ModifyTime" Caption="修改时间" DataType="DateTime"/>
                    <Column Key="MapCount" DataType="Integer" DefaultValue="0"/>
                    <Column Key="WarehouseCenterId" Caption="当前仓储中心" DataType="Long"/>
                    <Column Key="QuantDate" Caption="日结日期" DataType="DateTime"/>
                </Table>
            </TableCollection>
        </DataObject>
    </DataSource>
    <OperationCollection>
        <Operation Key="Close" Caption="关闭" RefKey="Close"/>
    </OperationCollection>
    <ScriptCollection>
        <Script Key="Load" Caption="载入" Range="Action" Verb="Load">
            <![CDATA[LoadData();]]>
        </Script>
    </ScriptCollection>
    <Body>
        <Block>
            <FlexFlowLayoutPanel Key="root" Caption="根面板" Height="0%">
                <ToolBar Key="ToolBar1" Height="pref" Caption="ToolBar1">
                    <ToolBarItemCollection/>
                </ToolBar>
                <SplitPanel Key="main" Orientation="Vertical" Height="100%" Caption="主面板">
                    <TabPanel Caption="TabPanel1" Height="pref" Key="TabPanel1">
                        <GridLayoutPanel Key="first_head" Height="pref" Padding="5px" Caption="基本信息">
                            <Dict Key="WarehouseCenterId" Caption="当前仓储中心" BuddyKey="Lab_WarehouseCenterId" X="1" Y="0" Enable="false" ItemKey="LRP_WarehouseCenter" XSpan="3">
                                <DataBinding DefaultFormulaValue="getCurOrgID()"/>
                            </Dict>
                            <Label Key="Lab_WarehouseCenterId" Caption="当前仓储中心" X="0" Y="0"/>
                            <DatePicker Key="QuantDate" Caption="日结至日期" BuddyKey="Lab_QuantDate" X="6" Y="0" XSpan="3">
                                <DataBinding TableKey="V_DailyQuant_LRP_H" ColumnKey="QuantDate" Required="true"/>
                            </DatePicker>
                            <Label Key="Lab_QuantDate" Caption="日结至日期" X="5" Y="0"/>
                            <Button Key="OK" Caption="确定" X="6" Y="1">
                                <OnClick>
                                    <![CDATA[
								if(IsControlNull("QuantDate")){
								 Confirm(LocaleString('OwnerNull','key150'), 'OK','OK:{}');
								 return true;
								}
								RollData("LRP_DailyQuant",Format(GetValue("QuantDate"), "yyyy-MM-dd"));]]>
                                </OnClick>
                            </Button>
                            <Button Key="Cancle" Caption="取消" X="8" Y="1">
                                <OnClick>
                                    <![CDATA[Close();]]>
                                </OnClick>
                            </Button>
                            <RowDefCollection RowGap="5">
                                <RowDef Height="30px"/>
                                <RowDef Height="30px"/>
                                <RowDef Height="100%"/>
                            </RowDefCollection>
                            <ColumnDefCollection ColumnGap="8">
                                <ColumnDef Width="77px"/>
                                <ColumnDef Width="20%" MinWidth="55px"/>
                                <ColumnDef Width="55px"/>
                                <ColumnDef Width="20%" MinWidth="55px"/>
                                <ColumnDef Width="55px"/>
                                <ColumnDef Width="77px"/>
                                <ColumnDef Width="20%" MinWidth="55px"/>
                                <ColumnDef Width="55px"/>
                                <ColumnDef Width="20%" MinWidth="55px"/>
                            </ColumnDefCollection>
                        </GridLayoutPanel>
                    </TabPanel>
                    <SplitSize Size="100%"/>
                </SplitPanel>
            </FlexFlowLayoutPanel>
        </Block>
    </Body>
</Form>
