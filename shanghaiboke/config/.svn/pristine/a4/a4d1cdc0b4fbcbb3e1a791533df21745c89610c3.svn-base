<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<DataObject Caption="应收引入对账单" Key="LRP_QuoteStatement" PrimaryTableKey="LRP_QuoteStatement">
    <TableCollection>
        <Table Caption="应收引入对账单" Key="LRP_QuoteStatement" SourceType="Query" TableMode="Detail">
            <Column Caption="对账单OID" DataType="Long" Key="OID"/>
            <Column Key="SOID" Caption="主对象标识" DataType="Long"/>
            <Column Caption="对账单明细OID" DataType="Long" Key="DtlOID"/>
            <Column Key="IncomeLineId" Caption="收入明细id" DataType="Long"/>
            <Column Key="No" Caption="对账单号" DataType="Varchar" Length="100" SortType="Desc"/>
            <Column Key="CompanyCodeId" Caption="公司" DataType="Long"/>
            <Column Key="SettlementId" Caption="结算方id" DataType="Long"/>
            <Column Key="OrderDate" Caption="账单日期" DataType="DateTime"/>
            <Column Key="Status" Caption="状态" DataType="Integer"/>
            <Column Key="DispatchOrgId" Caption="调度组织" DataType="Long"/>
            <Column Key="WarehouseCenterId" Caption="仓储中心" DataType="Long"/>
            <Column Key="IncomeId" Caption="收入名称" DataType="Long"/>
            <Column Key="CalculationAmount" Caption="计算金额" DataType="Numeric" Precision="18" Scale="6"/>
            <Column Key="AdjustAmount" Caption="调整后金额" DataType="Numeric" Precision="18" Scale="6"/>
            <Column Key="MapCount" Caption="映射数量标记" DataType="Integer"/>
            <Statement>
                <![CDATA[SELECT *
FROM
  (SELECT h.No,
    h.status,
    h.OrderDate,
    h.CompanyCodeId,
    l.OID,
    l.SOID,
    l.IncomeLineId,
    o.SettlementId,
    o.DispatchOrgId,
    o.WarehouseCenterId,
    o.IncomeId,
    o.CalculationAmount,
    o.AdjustAmount
  FROM LRP_IncomeStatement_H h
  LEFT JOIN LRP_IncomeStatement_L l
  ON h.OID = l.SOID
  LEFT JOIN LRP_IncomeLine o
  ON o.oid = l.IncomeLineId
  LEFT JOIN LRP_IncomeStatement_L_Show s
  ON S.SRCOID    = l.OID
  WHERE o.STATUS = 960 
  AND h.STATUS = 900
  AND s.MapKey  IS NULL
  )a ]]>
            </Statement>
        </Table>
    </TableCollection>
</DataObject>
