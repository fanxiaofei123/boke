<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Form Key="HistoryAbsenceRequest" Authenticate="false">
    <DataSource>
        <DataObject Key="HistoryAbsenceRequest" NoPrefix="ABR" PrimaryTableKey="HistoryAbsenceRequest">
            <TableCollection>
                <Table Key="HistoryAbsenceRequest" TableMode="Detail" SourceType="Query">
                    <Column Key="OID" Caption="对象标识" DataType="Long"/>
                    <Column Key="SOID" Caption="主对象标识" DataType="Long"/>
                    <Column Key="POID" Caption="父对象标识" DataType="Long"/>
                    <Column Key="VERID" Caption="对象版本" DataType="Integer"/>
                    <Column Key="DVERID" Caption="对象明细版本" DataType="Integer"/>
                    <Column Key="Status" Caption="状态" DataType="Integer"/>
                    <Column Key="CREATOR" Caption="创建用户ID" DataType="Long"/>
                    <Column Key="CREATETIME" Caption="创建时间" DataType="DateTime"/>
                    <Column Key="MODIFIER" Caption="修改用户ID" DataType="Long"/>
                    <Column Key="MODIFYTIME" Caption="修改时间" DataType="DateTime"/>
                    <Column Key="No" Caption="请假单号" DataType="Varchar" Length="100"/>
                    <Column Key="DriverID" Caption="请假人" DataType="Long"/>
                    <Column Key="StartDate" Caption="起始日期" DataType="DateTime"/>
                    <Column Key="Days" Caption="天数" DataType="Integer"/>
                    <Column Key="AbsenceType" Caption="请假类型" DataType="Integer"/>
                    <Column Key="AbsenceReason" Caption="请假理由" DataType="Varchar"/>
                    <Column Key="EndDate" Caption="截止日期" DataType="DateTime"/>
                    <TableFilter>
                        <![CDATA[DriverID = ?]]>
                    </TableFilter>
                    <ParameterCollection>
                        <Parameter DataType="Long" Formula="GetUserOperator();"/>
                    </ParameterCollection>
                    <Statement>
                        <![CDATA[select * from LRP_AbsenceRequest]]>
                    </Statement>
                </Table>
            </TableCollection>
        </DataObject>
    </DataSource>
    <ScriptCollection>
        <Script Key="FormActive" Range="Action" Verb="">
            <![CDATA[LoadData()]]>
        </Script>
    </ScriptCollection>
    <Body>
        <Block>
            <GridLayoutPanel Key="root">
                <Format BackColor="#f1f3f8"/>
                <TableView Key="info_table" X="0" Y="0">
                    <Format BackColor="#f1f3f8"/>
                    <TableRowCollection>
                        <TableRow Key="r1" RowType="Detail" TableKey="HistoryAbsenceRequest">
                            <GridLayoutPanel Key="HistoryAbsencePanel" Height="auto" Caption="历史请假">
                                <Format BackColor="#f1f3f8"/>
                                <Label Key="lbl_StartDate" Caption="起始日期：" X="1" Y="0" Height="auto">
                                    <Format>
                                        <Font Size="16"/>
                                    </Format>
                                </Label>
                                <DatePicker Key="StartDate" X="3" Y="0" Caption="起始日期" BuddyKey="Lab_StartDate" XSpan="5">
                                    <DataBinding TableKey="LRP_AbsenceRequest" ColumnKey="StartDate" Required="true"/>
                                    <Format HAlign="Left" ForeColor="#000000" BackColor="#f1f3f8">
                                        <Font Size="16" Name="Microsoft YaHei"/>
                                    </Format>
                                </DatePicker>
                                <DatePicker Key="EndDate" Caption="截止日期" BuddyKey="Lab_EndDate" X="3" Y="1" XSpan="5">
                                    <DataBinding TableKey="LRP_AbsenceRequest" ColumnKey="EndDate" Required="true"/>
                                    <Format HAlign="Left" ForeColor="#000000" BackColor="#f1f3f8">
                                        <Font Size="16" Name="Microsoft YaHei"/>
                                    </Format>
                                </DatePicker>
                                <Label Key="Lab_EndDate" Caption="截止日期：" X="1" Y="1">
                                    <Format>
                                        <Font Size="16"/>
                                    </Format>
                                </Label>
                                <NumberEditor Key="Days" Caption="请假天数" BuddyKey="Lab_Days" X="3" Y="2" Scale="0" Enable="false">
                                    <DataBinding TableKey="LRP_AbsenceRequest" ColumnKey="Days" Required="true"/>
                                    <Format HAlign="Left" ForeColor="#000000" BackColor="#f1f3f8">
                                        <Font Size="16" Name="Microsoft YaHei"/>
                                    </Format>
                                </NumberEditor>
                                <Label Key="Lab_Days" Caption="请假天数：" X="1" Y="2">
                                    <Format>
                                        <Font Size="16"/>
                                    </Format>
                                </Label>
                                <ComboBox Key="AbsenceType" Caption="请假类型" BuddyKey="Lab_ComboBox1" X="7" Y="2" IntegerValue="true" Enable="false">
                                    <DataBinding TableKey="LRP_AbsenceRequest" ColumnKey="AbsenceType" Required="true"/>
                                    <Format HAlign="Left" ForeColor="#000000" BackColor="#f1f3f8">
                                        <Font Size="16" Name="Microsoft YaHei"/>
                                    </Format>
                                    <Item Caption="事假" Key="0" Value="0"/>
                                    <Item Caption="病假" Key="1" Value="1"/>
                                    <Item Caption="年假" Key="2" Value="2"/>
                                    <Item Caption="婚假" Key="3" Value="3"/>
                                    <Item Caption="产假" Key="4" Value="4"/>
                                    <Item Caption="护理假" Key="5" Value="5"/>
                                    <Item Caption="丧假" Key="6" Value="6"/>
                                    <Item Caption="补假" Key="7" Value="7"/>
                                    <Item Caption="其它" Key="8" Value="8"/>
                                </ComboBox>
                                <Label Key="Lab_ComboBox1" Caption="请假类型：" X="5" Y="2">
                                    <Format>
                                        <Font Size="16"/>
                                    </Format>
                                </Label>
                                <TextEditor Key="AbsenceReason" Caption="请假理由" BuddyKey="Lab_AbsenceReason" X="3" Y="3" XSpan="5" Enable="false">
                                    <DataBinding TableKey="LRP_AbsenceRequest" ColumnKey="AbsenceReason" Required="true"/>
                                    <Format HAlign="Left" ForeColor="#000000">
                                        <Font Size="16" Name="Microsoft YaHei"/>
                                    </Format>
                                </TextEditor>
                                <Label Key="Lab_AbsenceReason" Caption="请假理由：" X="1" Y="3">
                                    <Format>
                                        <Font Size="16"/>
                                    </Format>
                                </Label>
                                <Dict Key="DriverID" Caption="司机" X="3" Y="3" Visible="false" ItemKey="LRP_Driver">
                                    <DataBinding TableKey="LRP_AbsenceRequest" ColumnKey="DriverID" DefaultFormulaValue="GetOperator();"/>
                                </Dict>
                                <ComboBox Key="Status" Caption="状态" X="3" Y="3" SourceType="Status" Visible="false">
                                    <DataBinding TableKey="LRP_AbsenceRequest" ColumnKey="Status" DefaultValue="100"/>
                                </ComboBox>
                                <TextEditor Key="No" Caption="编号" X="3" Y="3" Visible="false">
                                    <DataBinding TableKey="LRP_AbsenceRequest" ColumnKey="No"/>
                                </TextEditor>
                                <Label Key="Label2" X="0" Y="4" XSpan="9">
                                    <Format BackColor="#e6e6e6"/>
                                </Label>
                                <RowDefCollection>
                                    <RowDef Height="40px"/>
                                    <RowDef Height="40px"/>
                                    <RowDef Height="40px"/>
                                    <RowDef Height="40px"/>
                                    <RowDef Height="5px"/>
                                </RowDefCollection>
                                <ColumnDefCollection>
                                    <ColumnDef Width="10px"/>
                                    <ColumnDef Width="80px"/>
                                    <ColumnDef Width="10px"/>
                                    <ColumnDef Width="50%"/>
                                    <ColumnDef Width="10px"/>
                                    <ColumnDef Width="80px"/>
                                    <ColumnDef Width="10px"/>
                                    <ColumnDef Width="50%"/>
                                    <ColumnDef Width="10px"/>
                                </ColumnDefCollection>
                            </GridLayoutPanel>
                        </TableRow>
                    </TableRowCollection>
                </TableView>
                <Label Key="Label1" X="0" Y="0" Visible="GetRowCount('r1')==0" Caption="您还未填写过请假单！">
                    <Format HAlign="Center" ForeColor="#000000">
                        <Font Size="26"/>
                    </Format>
                </Label>
                <LinearLayoutPanel Key="opt_panel" X="0" Y="1" Orientation="Horizontal" BorderStyle="solid none">
                    <Button Key="order" Caption="请假" Enable="True" Width="pref" Height="auto" Weight="1.0" BorderStyle="none">
                        <Format ForeColor="#ffffff" BackColor="#f14c52">
                            <Font Size="20"/>
                        </Format>
                        <OnClick>
                            <![CDATA[
								New('AbsenceRequest');
							]]>
                        </OnClick>
                    </Button>
                </LinearLayoutPanel>
                <RowDefCollection>
                    <RowDef Height="100%"/>
                    <RowDef Height="50px"/>
                </RowDefCollection>
                <ColumnDefCollection>
                    <ColumnDef Width="100%"/>
                </ColumnDefCollection>
            </GridLayoutPanel>
        </Block>
    </Body>
    <OnLoad>
        <![CDATA[LoadData();]]>
    </OnLoad>
    <NavigationBar BackColor="#f14c52" Style="Custom">
        <BarItem Key="TitleCenter_bar" Caption="请假单" Location="Center">
            <Label Key="TitleCenter" Caption="请假单" Width="60px">
                <Format HAlign="Center" ForeColor="#ffffff">
                    <Font Size="20"/>
                </Format>
            </Label>
        </BarItem>
    </NavigationBar>
</Form>
